<!DOCTYPE html>
<!-- saved from url=(0077)http://127.0.0.1:5500/Executive%20Dashboard%20-%20ParkSmart%20Pro%20test.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Executive Dashboard - Parksy</title>

  <!-- Bootstrap CDN -->
  <link href="./Executive Dashboard - ParkSmart Pro test_files/bootstrap.min.css" rel="stylesheet">
  <script src="./Executive Dashboard - ParkSmart Pro test_files/bootstrap.bundle.min.js.download"></script>

  <style>
    /* Reset and base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #46d5f5 0%, #3f4cff 100%);
      color: #333;
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }
    /* old
    old
    old */

    /* Responsive */
@media (max-width: 700px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }

  .executive-header {
    flex-direction: column;
    text-align: center;
  }

  .executive-title {
    text-align: center;
    order: 3;
  }

  .status-indicator {
    justify-content: center;
  }
}
.modal {
  display: none; position: fixed; z-index: 9999;
  left: 0; top: 0; width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0.5); overflow: auto;
}
.modal-content {
  background: #fff; margin: 10% auto; padding: 20px;
  width: 80%; max-width: 700px; border-radius: 8px;
}
.close {
  float: right; font-size: 24px; cursor: pointer;
}
.reservation-details {
  margin-top: 20px;
}

.reservation-card {
  border: 1px solid #ccc;
  padding: 15px;
  border-radius: 12px;
  background-color: #f0f8ff;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

#alertSystem {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
}

.popup-alert {
  position: absolute;
  top: 30px; /* Pushes alert down from the top */
  left: 50%;
  transform: translateX(-50%);
  background: white;
  color: #333;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  padding: 20px 25px;
  min-width: 300px;
  max-width: 90%;
  font-family: sans-serif;
  text-align: center;
  z-index: 10000;
  pointer-events: auto;
  animation: fade-in 0.3s ease-in-out;
  display: none;
}


.popup-header {
  font-weight: 600;
  font-size: 1.2em;
  margin-bottom: 50px;
}

.popup-message {
  font-size: 1em;
}

.fade-out {
  opacity: 0;
  transform: translateX(-50%) translateY(-10px);
  transition: all 0.3s ease-in-out;
}


@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}



    /* old
    old
    old */

    /* Enhanced container */
    .main-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
      background-color: #FFFFFF;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
      margin-bottom: 20px;
      position: relative;
    }

    /* Enhanced header */
    .executive-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 30px;
      background-color: #007bffc2;
      border-radius: 10px;
      color: #FFFFFF;
    }

    .executive-title {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .status-indicator {
      font-size: 1rem;
      color: #4ade80;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-weight: 700;
    }

    .status-dot {
      width: 12px;
      height: 12px;
      background: #28A745;
      border-radius: 50%;
    }

    /* Enhanced dashboard grid */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .executive-card {
      background-color: #FFFFFF;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .executive-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 25px;
      font-weight: 700;
      font-size: 1.3rem;
      color: #007BFF;
    }

    .card-icon {
      font-size: 2rem;
      padding: 10px;
      background-color: #E9ECEF;
      border-radius: 8px;
    }

    /* Enhanced info matrix */
    .info-matrix {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .info-cell {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background-color: #F8F9FA;
      border-radius: 8px;
      font-size: 1rem;
      color: #333;
      transition: all 0.3s ease;
    }

    .info-cell:hover {
      background-color: #E9ECEF;
      transform: translateX(5px);
    }

    .info-label {
      font-weight: 600;
      color: #6C757D;
    }

    .info-value {
      font-weight: 700;
      color: #333;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Enhanced vehicle status */
    .vehicle-status {
      margin-top: 30px;
      border-top: 1px solid #DEE2E6;
      padding-top: 25px;
    }

    /* Enhanced form styling */
    .form-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-label {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 1rem;
      color: #6C757D;
    }

    .form-input {
      padding: 12px 15px;
      border: 1px solid #CED4DA;
      border-radius: 20px;
      font-size: 1rem;
      background-color: #FFFFFF;
      color: #333;
      transition: all 0.3s ease;
      margin-bottom: 10px;
      max-width: 80%;
    }

    .form-input:focus {
      outline: none;
      border-color: #007BFF;
      box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }

    .form-input::placeholder {
      color: #6C757D;
    }

    /* Enhanced buttons */
    .btn-group {
      display: flex;
      gap: 15px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 25px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      border: none;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .btn-primary {
      background-color: #007BFF;
      color: #FFFFFF;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 10px rgba(0, 123, 255, 0.4);
    }

    .btn-secondary {
      background-color: #6C757D;
      color: #FFFFFF;
    }

    .btn-secondary:hover {
      background-color: #5A6268;
      transform: translateY(-2px);
    }

    /* Enhanced navigation */
    .executive-nav {
      margin-top: 40px;
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .nav-link {
      padding: 12px 20px;
      background-color: #007BFF;
      color: #FFFFFF;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .nav-link:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 10px rgba(0, 123, 255, 0.4);
    }

    /* Enhanced reservation card */
    .reservation-card {
      border: 1px solid #DEE2E6;
      padding: 25px;
      border-radius: 10px;
      background-color: #E9ECEF;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      color: #333;
    }

    /* Enhanced contact card */
    .contact-card {
      max-width: 100%;
      margin: 40px 0;
      padding: 30px;
      background-color: #FFFFFF;
      border-radius: 10px;
  
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 30px;
    }

    .contact-card2 {
      max-width: 100%;
    margin: 50px 0;
    padding-inline: 101px;
    background-color: #FFFFFF;
    border-radius: 10px;
    display: flex
;
    flex-direction: row;
    align-items: center;
    gap: 0px
    }

    .contact-card h2 {
      margin-bottom: 25px;
      color: #007BFF;
      font-weight: 700;
    }

    .contact-card2 h2 {
      margin-bottom: 25px;
      color: #007BFF;
      font-weight: 700;
      margin-left: 10%;
    }

 

    .contact-card1 h2 {
      margin-bottom: 25px;
      font-size: 20px;
      color: #012245;
      font-weight: 100;
      margin-top: -30px;
    
    }

    

    

    .contact-form {
      flex: 1;
    }

    .contact-form1 {
      flex: 1;
    }

    .park img {
      max-width: 650px;
      height: auto;
      border-radius: 10px;
    }

    .imagebrand img{
      max-width: 650px;
      height: auto;
      border-radius: 10px;
    }

    /* Enhanced footer */
    footer {
      border-top: 1px solid #000000;
      padding: 40px 20px;
      text-align: center;
      color: #FFFFFF;
      margin-top: 40px;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
      text-align: left;
      margin-left: 110px;
    }

    .footer-section h4 {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: #007BFF;
      font-weight: 700;
    }

    .footer-section1 h4 {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: #007BFF;
      font-weight: 700;
    }

    .footer-section p, .footer-section a {
      margin: 8px 0;
      color: #333333;
      transition: color 0.3s ease;
      font-weight: 600;
      text-decoration: none;
    }

    .footer-section1 p, .footer-section1 a {
      margin: 8px 0;
      color: #333333;
      transition: color 0.3s ease;
      font-weight: 600;
      text-decoration: none;
    }

    .footer-section a:hover {
      color: #007BFF;
      text-decoration: none;
    }

    .footer-bottom {
      border-top: 1px solid #000000;
      padding-top: 20px;
      margin-top: 30px;
      margin-inline: 90px;
    }

    p {
    margin-top: 0;
    text-decoration: none;
    margin-bottom: 1rem;
    color: #7C7C7C;  
    font-weight: 500;
    }

    .longtext {
    margin-top: 0;
    text-decoration: none;
    margin-bottom: 1rem;
    color: #7C7C7C;  
    font-weight: 600;
    max-width: 80%;
    margin-left: 10%;
    }


    a {
    color: #007BFF;
    text-decoration: none;
}
    a :hover{
      color: #007BFF
      transform: translateY(15px);
    }



    /* Responsive design */
    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .executive-title {
        font-size: 2rem;
      }
      
      .main-container {
        margin: 10px;
        padding: 15px;
      }
      
      .footer-grid {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .contact-card {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .park img {
        max-width: 100%;
      }
    }

    .blank{

      color: #ffffff;
    }

   
  </style>
</head>

<body>
  <!-- Enhanced Bootstrap Header -->
  <!-- Enhanced Bootstrap Header -->
  <nav class="navbar navbar-expand-lg navbar-dark" style="background: rgba(0,0,0,0.3); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1);">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="http://127.0.0.1:5500/V4.1.html#" style="color: #fff;">
        <img src="aaaa.png" alt="Parksy Logo" style="height: 40px;">
      </a>
      <div class="ms-auto text-light">
        <strong style="color: #4ade80;">Welcome, <%= username %>!</strong>
      </div>
    </div>
  </nav>

  <div class="alertSystem" id="alertSystem"></div>

  <div class="main-container">
    <!-- Enhanced Executive Header -->
    <div class="executive-header">
      <div class="executive-title">Executive Dashboard</div>
      <div class="status-indicator">
        <div class="status-dot"></div>
        System Online • All Services Active • Premium Access
      </div>
    </div>

    <!-- Enhanced Main Dashboard Grid -->
    <div class="dashboard-grid">
      <!-- Enhanced Executive Profile Card -->
      <div class="executive-card">
        <div class="loading-overlay" id="profileLoader">
          <div class="spinner"></div>
        </div>

        <div class="card-header">
          <div class="card-icon">👤</div>
          <div class="card-title">Executive Profile</div>
        </div>

        <div class="info-matrix">
          <div class="info-cell">
            <div class="info-label">Employee ID</div>
            <div class="info-value">
              <span><%= employeeId %></span>
              <span style="color: #4ade80;">●</span>
            </div>
          </div>
          <div class="info-cell">
            <div class="info-label">Corporate Email</div>
            <div class="info-value"><%= email %></div>
          </div>
          <div class="info-cell">
            <div class="info-label">Direct Line</div>
            <div class="info-value"><%= mobile %></div>
          </div>
          <div class="info-cell">
            <div class="info-label">Department</div>
            <div class="info-value">
              <span>Executive Operations</span>
              <span style="color: #fbbf24;">EXE-2024-001</span>
            </div>
          </div>
        </div>

        <!-- Enhanced Vehicle Info Section -->
        <div class="vehicle-status" id="vehicleStatus">
          <div class="vehicle-content">
            <div class="card-header" style="margin-bottom: 20px;">
              <div class="card-icon">🚗</div>
              <div class="card-title">Active Vehicle</div>
            </div>
            <div class="info-cell">
              <div class="info-label">Vehicle Registration</div>
              <div class="info-value">
                <span><%= vehicleNo %></span>
                <span style="color: #4ade80;">🅿️</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Reservation Slot Details -->
        <div id="reservationDetailsContainer" class="reservation-details">
          <% if (bookedSlot) { %>
          <div class="reservation-card">
            <h3>🚗 Reserved Parking Details</h3>
            <p><strong>Parking Area:</strong> <%= bookedSlot.areaName %></p>
            <p><strong>Slot Number:</strong><%= bookedSlot.slotNumber %></p>
            <p><strong>Reservation Time:</strong>
              <%= bookedSlot.bookingTime ? bookedSlot.bookingTime.toLocaleString() : 'N/A' %>
            </p>

            <form id="releaseForm" style="margin-top: 15px;">
              <input type="hidden" name="vehicleNo" value="EXEC-2024-VIP">
              <button type="submit" class="btn" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: #fff;">❌ Release Slot</button>
            </form>
          </div>
          <% } else { %>
          <div class="reservation-card">
            <p>No active parking reservation.</p>
          </div>
          <% } %>
        </div>
      </div>

      <!-- Enhanced Smart Parking Control -->
      <div class="executive-card">
        <div class="loading-overlay" id="parkingLoader">
          <div class="spinner"></div>
        </div>

        <div class="card-header">
          <div class="card-icon">🅿️</div>
          <div class="card-title">Smart Parking Control</div>
        </div>

        <div class="form-container">
          <form id="parkingForm">
            <div class="form-group">
              <label class="form-label">Select Parking Area</label>
              <select id="parkingAreaSelect" class="form-input" required="">
                <option value="" disabled="" selected="">-- Select Parking Area --</option>
                <option value="Area 1">Parking Area 1</option>
                <option value="Area 2">Parking Area 2</option>
                <option value="Area 3">Parking Area 3</option>
                <option value="Area 4">Parking Area 4</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Select Parking Slot</label>
              <select name="slotId" id="slotSelect" class="form-input" required="">
                <option value="" disabled="" selected="">-- Select a Slot --</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Vehicle Registration</label>
              <input type="text" name="vehicleNo" class="form-input" placeholder="Enter vehicle registration (e.g., EXEC-2024-VIP)" required="">
            </div>

            <div class="btn-group">
              <button type="submit" class="btn btn-primary">
                <span>🅿️</span> Reserve Parking
              </button>
              <button type="button" class="btn btn-secondary" id="checkStatusBtn">
                <span>📊</span> Check Status
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Enhanced Executive Navigation -->
    <div class="executive-nav">
      <a href="http://127.0.0.1:5500/V4.1.html#" class="nav-link"><span>⚙️</span> Settings</a>
      <a href="http://127.0.0.1:5500/V4.1.html#" class="nav-link"><span>🚪</span> Logout</a>
    </div>

    <!-- User Status Modal -->
  <div id="statusModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModalBtn">&times;</span>
      <div id="modalBody">Loading status...</div>
    </div>
  </div>

    <section>
      <div class="blank">
        <div>.</div>
        <div>.</div>
      </div>
    </section>

    <!-- Enhanced Contact Us Card -->
    <div class="contact-card">
      <div class="park">
        <img src="./Executive Dashboard - ParkSmart Pro test_files/qwertyui.png" alt="Contact Support Image">
      </div>
      <div class="contact-form">
        <h2>Contact Us</h2>
        <div class="contact-card1">
          <h2>Ask a Quary or Help us improve</h2>
        </div>

        
        <form>
          <div class="form-group">
            <input type="text" class="form-input" placeholder="Your Name" required="">
          </div>
          <div class="form-group">
            <input type="email" class="form-input" placeholder="Your Email" required="">
          </div>
          <div class="form-group">
            <textarea class="form-input" placeholder="Your Message" rows="4" required="" style="height: 237px;"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Send Message</button>
        </form>
        
      </div>
    </div>

 <!-- New Branding Section -->
    <div class="contact-card2">

      <div class="contact-form">
        <h2>Why Choose Parksy?</h2>
        <div class="longtext">
          Experience seamless parking management with Parksy, your ultimate solution for efficient, secure, and smart parking. Our cutting-edge technology ensures executives like you save time, reduce stress, and enjoy a hassle-free parking experience. With real-time slot availability, automated reservations, and premium access to exclusive zones, Parksy empowers you to focus on what matters most—your work. Join thousands of satisfied users who trust Parksy to revolutionize their daily commute.</div>
      </div>

      <div class="imagebrand">
        <img src="ChatGPT_Image_Jun_20__2025__03_59_59_PM-removebg-preview.png" alt="Contact Support Image">
      </div>
    </div>

    <!-- Enhanced Footer -->
    <footer>
      <div class="footer-content">
        <div class="footer-grid">
          <div class="footer-section1">
            <h4>About Us </h4>
            <p>Parksy is your intelligent parking management solution, designed to streamline executive parking operations with cutting-edge technology.</p>
            <div class="icon-group">
              <span>📱</span> <span>💻</span> <span>📡</span> <span>🔗</span>
            </div>
          </div>
          <div class="footer-section">
            <h4>Quick Links</h4>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Dashboard</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Vehicle Management</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Reports</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Settings</a></p>
          </div>
          <div class="footer-section">
            <h4>Support</h4>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Help Center</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Contact Us</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">FAQs</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Technical Support</a></p>
          </div>
          <div class="footer-section">
            <h4>Company</h4>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">About Us</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Careers</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Blog</a></p>
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Press</a></p>
          </div>
        </div>
        <div class="footer-bottom" style="display: flex; justify-content: space-between; align-items: center;">
          <p>© <%= new Date().getFullYear() %> Parksy. All rights reserved.</p>
          <div class="tc">
            <p><a href="http://127.0.0.1:5500/V4.1.html#">Privacy Policy</a> | <a href="http://127.0.0.1:5500/V4.1.html#">Terms of Service</a> | <a href="http://127.0.0.1:5500/V4.1.html#">Cookie Policy</a></p>
          </div>
          
        </div>
      </div>
    </footer>
  </div>

  <!-- Enhanced User Status Modal -->
  <div id="statusModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModalBtn">×</span>
      <div id="modalBody">Loading status...</div>
    </div>
  </div>


  <script>
  // Modal elements
  const modal = document.getElementById('successModal');
  const closeModal = document.getElementById('closeModal');

  // Contact Form
  const contactForm = document.querySelector('.contact-form form');

  contactForm.addEventListener('submit', function(e) {
    e.preventDefault();

    const name = contactForm.querySelector('input[type="text"]').value.trim();
    const email = contactForm.querySelector('input[type="email"]').value.trim();
    const message = contactForm.querySelector('textarea').value.trim();

    if (!name || !email || !message) {
      alert('Please fill in all fields.');
      return;
    }

    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    if (!email.match(emailPattern)) {
      alert('Please enter a valid email address.');
      return;
    }

    modal.style.display = 'flex';
    document.body.classList.add('modal-open'); // Disable scrolling
    contactForm.reset();
  });

  // Close modal on click
  closeModal.addEventListener('click', () => {
    modal.style.display = 'none';
    document.body.classList.remove('modal-open'); // Enable scrolling
  });

  // Close modal if clicked outside
  window.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open'); // Enable scrolling
    }
  });
</script>


<script>
    // Video Playback Control
    const video = document.getElementById('customVideo');
    const playButton = document.getElementById('playButton');
    const wrapper = document.getElementById('videoWrapper');

    wrapper.addEventListener('click', () => {
      if (video.paused) {
        video.play();
        playButton.style.display = 'none';
      } else {
        video.pause();
        playButton.style.display = 'block';
      }
    });

    video.addEventListener('play', () => {
      playButton.style.display = 'none';
    });

    video.addEventListener('pause', () => {
      playButton.style.display = 'block';
    });

    window.addEventListener('load', () => {
      playButton.style.display = video.paused ? 'block' : 'none';
    });

    // Testimonial Slider
    let currentSlide = 0;
    const slides = document.querySelectorAll(".testimonial-slide");
    const dots = document.querySelectorAll(".dot");

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.remove("active");
        dots[i].classList.remove("active");
      });
      slides[index].classList.add("active");
      dots[index].classList.add("active");
      currentSlide = index;
    }

    function goToSlide(index) {
      showSlide(index);
    }

    setInterval(() => {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }, 5000);

    // Contact Form Submission
    document.querySelector('.contact-form form').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const message = document.getElementById('message').value;
      if (name && email && message) {
        alert('Thank you for your message! We\'ll get back to you soon.');
        this.reset();
      } else {
        alert('Please fill in all fields.');
      }
    });

    document.querySelectorAll('.contact-item').forEach(item => {
      item.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-5px)';
        this.style.transition = 'transform 0.3s ease';
      });
      item.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
      });
    });

    // Pricing Button Interactions
    document.querySelectorAll('.order-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const planName = this.closest('.pricing-card').querySelector('.plan-name').textContent;
        alert(`You selected the ${planName} plan! Redirecting to checkout...`);
      });
      btn.addEventListener('mouseenter', function() {
        this.style.boxShadow = '0 0 30px rgba(74, 144, 226, 0.6)';
      });
      btn.addEventListener('mouseleave', function() {
        this.style.boxShadow = '';
      });
    });
  </script>

  <script>
  // Make this available globally
  function showAlert(message, type = 'success') {
    const alertSystem = document.getElementById('alertSystem');
    const alert = document.createElement('div');
    alert.className = 'popup-alert';
    alert.innerHTML = `
      <div class="popup-header">
        ${type === 'success' ? '✅ Success' : '❌ Error'}
      </div>
      <div class="popup-message">${message}</div>
    `;
    alertSystem.appendChild(alert);

    setTimeout(() => {
      alert.classList.add('fade-out');
      setTimeout(() => alert.remove(), 300);
    }, 3000);
  }

  // Now wrap the rest in DOMContentLoaded
  document.addEventListener('DOMContentLoaded', () => {
    // can call showAlert() here too
    showAlert('Welcome to Parksy Executive Dashboard');
  });


// Fetch and show all available slots (sorted)
async function fetchAvailableSlots() {
  try {
    const response = await fetch('/available-slots');
    if (!response.ok) throw new Error('Failed to fetch slots');
    const slots = await response.json();

    const slotSelect = document.getElementById('slotSelect');
    slotSelect.innerHTML = `<option value="" disabled selected>-- Select a Slot --</option>`;

    const availableSlots = slots.filter(slot => !slot.occupied);
    availableSlots.sort((a, b) => Number(a.slotNumber) - Number(b.slotNumber));

    availableSlots.forEach(slot => {
      const option = document.createElement('option');
      option.value = slot._id;
      option.textContent = `Area: ${slot.areaName} - Slot No: ${slot.slotNumber}`;
      slotSelect.appendChild(option);
    });

    if (availableSlots.length === 0) {
      slotSelect.innerHTML = `<option disabled>No slots available</option>`;
    }
  } catch (err) {
    console.error(err);
    showAlert('Error loading slots', 'error');
  }
}

// Handle form submit for booking
document.getElementById('parkingForm').addEventListener('submit', async function (e) {
  e.preventDefault();

  const loader = document.getElementById('parkingLoader');
  const vehicleNo = this.vehicleNo.value.trim();
  const slotId = this.slotSelect.value;

  if (!vehicleNo || !slotId) {
    showAlert('Please enter vehicle number and select slot', 'error');
    return;
  }

  loader.classList.add('active');

  try {
    const response = await fetch('/book-slot', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ vehicleNo, slotId })
    });

    const data = await response.json();
    loader.classList.remove('active');

    if (response.ok) {
      showAlert(`Slot ${data.slotNumber} booked for ${vehicleNo} in ${data.areaName}`);
      this.reset();
      fetchAvailableSlots();

      const now = new Date().toLocaleString();
      document.getElementById('reservationDetailsContainer').innerHTML = `
        <div class="reservation-card">
          <h3>✅ Parking Confirmed</h3>
          <p><strong>🕒 Parked At:</strong> ${now}</p>
          <p><strong>🚗 Vehicle Number:</strong> ${vehicleNo}</p>
          <p><strong>📍 Area:</strong> ${data.areaName}</p>
          <p><strong>🔢 Slot Number:</strong> ${data.slotNumber}</p>
        </div>
      `;
    } else {
      showAlert(data.error || 'Booking failed', 'error');
    }
  } catch (error) {
    loader.classList.remove('active');
    showAlert('Server error during booking', 'error');
  }
});

// Slot filtering by parking area (with sort)
document.getElementById('parkingAreaSelect').addEventListener('change', async function () {
  const selectedArea = this.value;
  const slotSelect = document.getElementById('slotSelect');
  slotSelect.innerHTML = '<option value="" disabled selected>-- Loading slots... --</option>';

  try {
    const response = await fetch('/available-slots');
    const slots = await response.json();
    const filteredSlots = slots.filter(slot => !slot.occupied && slot.areaName === selectedArea);
    filteredSlots.sort((a, b) => Number(a.slotNumber) - Number(b.slotNumber));

    if (filteredSlots.length === 0) {
      slotSelect.innerHTML = '<option disabled>No available slots in this area</option>';
      return;
    }

    slotSelect.innerHTML = '<option value="" disabled selected>-- Select a Slot --</option>';
    filteredSlots.forEach(slot => {
      const option = document.createElement('option');
      option.value = slot._id;
      option.textContent = `Slot ${slot.slotNumber}`;
      slotSelect.appendChild(option);
    });
  } catch (error) {
    console.error(error);
    slotSelect.innerHTML = '<option disabled>Error loading slots</option>';
  }
});

// Release slot logic
const releaseForm = document.getElementById('releaseForm');
if (releaseForm) {
  releaseForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const vehicleNo = releaseForm.vehicleNo.value.trim();

    if (!vehicleNo) {
      showAlert('Vehicle number is missing.', 'error');
      return;
    }

    try {
      const res = await fetch('/release-slot', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ vehicleNo })
      });

      const data = await res.json();

      if (res.ok) {
        showAlert(data.message, 'success');
        document.getElementById('reservationDetailsContainer').innerHTML = '';
        releaseForm.reset();
        fetchAvailableSlots();
      } else {
        showAlert(data.message || 'Release failed.', 'error');
      }
    } catch (error) {
      showAlert('Server error during release', 'error');
      console.error('Release error:', error);
    }
  });
}

// Slot status modal
const checkStatusBtn = document.getElementById("checkStatusBtn");
const modal = document.getElementById("statusModal");
const modalBody = document.getElementById("modalBody");
const closeModalBtn = document.getElementById("closeModalBtn");

checkStatusBtn.addEventListener("click", async () => {
  modal.style.display = "block";
  modalBody.innerHTML = "Loading...";

  try {
    const res = await fetch("/user-status");
    const html = await res.text();
    modalBody.innerHTML = html;
  } catch (err) {
    modalBody.innerHTML = "<p style='color:red;'>Failed to load status.</p>";
  }
});

closeModalBtn.addEventListener("click", () => {
  modal.style.display = "none";
});
window.addEventListener("click", (e) => {
  if (e.target === modal) modal.style.display = "none";
});

// Nav link handler
document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', function (e) {
    if (this.textContent.trim().includes('Logout')) {
      e.preventDefault();
      if (confirm('Are you sure you want to logout?')) {
        showAlert('Logging out...');
        setTimeout(() => window.location.href = '/login', 1000);
      }
    } else {
      e.preventDefault();
      showAlert(`Navigating to ${this.textContent.trim()}`);
    }
  });
});

// Input border reset
document.querySelectorAll('.form-input').forEach(input => {
  input.addEventListener('input', function () {
    this.style.borderColor = 'rgba(102, 126, 234, 0.2)';
  });
});

// Keyboard navigation in forms
document.addEventListener('keydown', function (e) {
  if (e.key === 'Enter' && e.target.classList.contains('form-input')) {
    const form = e.target.closest('form');
    if (form) {
      const inputs = Array.from(form.querySelectorAll('.form-input'));
      const currentIndex = inputs.indexOf(e.target);

      if (currentIndex < inputs.length - 1) {
        inputs[currentIndex + 1].focus();
      } else {
        form.dispatchEvent(new Event('submit'));
      }
    }
  }
});

// Direct booking from card
async function bookSlot(slotId) {
  const vehicleNo = prompt("🚗 Enter your vehicle number (e.g., MH12AB1234):");
  if (!vehicleNo) {
    showAlert("❌ Booking cancelled.", 'error');
    return;
  }

  try {
    const res = await fetch("/book-slot", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ slotId, vehicleNo }),
    });

    const data = await res.json();

    if (res.ok) {
      showAlert("✅ Slot booked successfully!<br><br>🪪 Vehicle No: " + vehicleNo + "<br>📍 Slot: " + data.slotNumber + "<br>🅿️ Area: " + data.areaName, 'success');
      setTimeout(() => window.location.reload(), 1500);
    } else {
      showAlert("❌ Booking failed: " + data.error, 'error');
    }
  } catch (error) {
    showAlert("🚨 Server error. Try again later.", 'error');
    console.error("Booking error:", error);
  }
}

// Initial setup
document.addEventListener('DOMContentLoaded', () => {
  fetchAvailableSlots();

  const profileLoader = document.getElementById('profileLoader');
  profileLoader.classList.add('active');
  setTimeout(() => {
    profileLoader.classList.remove('active');
    showAlert('Welcome to Parksy Executive Dashboard');
  }, 2000);
});


  </script>

</body></html>
